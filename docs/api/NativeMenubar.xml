<?xml version = "1.0"?>
<?xml-stylesheet type="text/xsl" href="pb_help.xsl"?>
<API>
    <MODULE name="NativeMenubar" parent="Rho" generateUnderscoreRubyNames="true">
        <HELP_OVERVIEW>The NativeMenubar API lets you customize the Windows Mobile/CE native menu buttons.</HELP_OVERVIEW>
        <MORE_HELP>
## Enabling the API           
This API is part of the `coreapi` extension that is included automatically.
    :::ruby
    extensions: ["coreapi"]

## JavaScript Usage
Be sure to review the [JavaScript API Usage](/guide/api_js) guide for important information about using this API in JavaScript

## Ruby Usage
Be sure to review the [Ruby API Usage](/guide/api_ruby) guide for important information about using this API in Ruby

        </MORE_HELP>
        <PLATFORM>WM</PLATFORM>
        
        <TEMPLATES>
        </TEMPLATES>

        <PROPERTIES access="STATIC" generateAccessors="true">
            <PROPERTY name="mainMenu" type="ARRAY">
                <DESC>Main Native MenuBar items</DESC>
                <PARAM type="HASH">

                    <PARAMS>
                        <PARAM name="label" type="STRING">
                            <DESC>Visible label.</DESC>
                        </PARAM>
                        <PARAM name="action" type="STRING"  rhoAction="true">
                            <DESC>URL to page which will be loaded into tab. It may be path to Ruby controller action; i.e. '/app/Account' would load the Account index action. For ruby callback use 'callback:/app/Account' Or javascript method to call: 'javascript: methodOnTab();'. Or path to html page to load.</DESC>
                        </PARAM>
                        <PARAM name="disabled" type="BOOLEAN" default="false">
                            <DESC>Menu item will be displayed as disabled.</DESC>
                            <PLATFORM>WM</PLATFORM>
                        </PARAM>
                    </PARAMS>

                </PARAM>
                <PLATFORM>WM</PLATFORM>
            </PROPERTY>
            <PROPERTY name="extraMenu" type="ARRAY">
                <DESC>Extra Native MenuBar items. This menu will display when left menu button is selected (Windows Mobile only).</DESC>
                <PLATFORM>WM</PLATFORM>

                <PARAM type="HASH">
                    <DESC>Same values as for mainMenu.</DESC>
                </PARAM>
                
            </PROPERTY>

            <PROPERTY name="mainButton" type="HASH">
                <DESC>Main MenuBar button properties.Same values as for mainMenu.When action is specified, when mainMenu will be ignored.</DESC>
                <PLATFORM>WM</PLATFORM>
            </PROPERTY>
            <PROPERTY name="extraButton" type="HASH">
                <DESC>Extra MenuBar button properties.Same values as for mainMenu.When action is specified, when extraMenu will be ignored.This item will display when left menu button is selected (Windows Mobile only).</DESC>
                <PLATFORM>WM</PLATFORM>
            </PROPERTY>

            <PROPERTY name="defaultMainMenu" type="ARRAY" readOnly="true" generateAPI="false">
                <PARAM type="HASH" />
                <DESC>Default Main Menu items.Same values as for mainMenu.</DESC>
                <APPLIES rubyOnly="true"/>
                <PLATFORM>WM</PLATFORM>
            </PROPERTY>

        </PROPERTIES>

        <METHODS  access="STATIC">
        </METHODS>
        
        <VER_INTRODUCED>1.0.0</VER_INTRODUCED>
         <PLATFORM>WM, Win32, Android, iOS, WP8</PLATFORM>
       <REMARKS>
        </REMARKS>
        <EXAMPLES >
           <EXAMPLE title="Customize the extra menu">
            <SECTIONS>
               
              <SECTION>
               <CODE>
                <RUBY>
                  <![CDATA[
    Rho::NativeMenubar.extraButton = {
      :label => "Extra"
    }

    Rho::NativeMenubar.extraMenu = [
      {
        :label => "Show alert 1",
        :action => url_for(:action => :show_alert_1)
      },
      {
        :label => "Show alert 2",
        :action => url_for(:action => :show_alert_2)
      },
      {
        :label => "Win the lottery",
        :disabled => true
      }
    ]
                  ]]>
                 </RUBY>
                <JAVASCRIPT>
                  <![CDATA[
    Rho.NativeMenubar.extraButton = {
        label: "Extra"
    };

    Rho.NativeMenubar.extraMenu = [
      {
          label: "Show alert 1",
          action: show_alert_1,
      },
      {
          label: "Show alert 2",
          action: show_alert_2,
      },
      {
          label: "Win the lottery",
          disabled: true
      }
    ];
                  ]]>
                 </JAVASCRIPT>
               </CODE>
              </SECTION>
            </SECTIONS>
           </EXAMPLE>     
           <EXAMPLE title="Clear the main menu">
            <SECTIONS>
               
              <SECTION>
               <CODE>
                <RUBY>
                  <![CDATA[
    def remove_menuitems
      Rho::NativeMenubar.mainMenu = []
    end
                  ]]>
                 </RUBY>
                <JAVASCRIPT>
                  <![CDATA[
    function remove_menuitems() {
        Rho.NativeMenubar.mainMenu = [];
    }
                  ]]>
                 </JAVASCRIPT>
               </CODE>
              </SECTION>
            </SECTIONS>
           </EXAMPLE>                  
        </EXAMPLES>
    </MODULE>
</API>    
