# Migrating your RhoMobile application to 4.0

RhoMobile Suite 4.0 offers a set of common API's to access device,system and framework capabilities across Javascript and Ruby. 


## RhoConnect Client
In RhoMobile Suite 4.0, the RhoConnect Client is available via an extension. In order to use the RhoConnect Client, you must specify `rhoconnect-client` in your applications `build.yml` `extensions` section.

	:::ruby
	extensions: ["rhoconnect-client"]

## Webview
In RhoMobile Suite 4.0, the default webview used for Android is now the stock Android webkit. API's that previously only worked in Motorola Solutions webkit, will now work in the stock webkit.

## Javascript Usage
In RhoMobile Suite 4.0 more API's have javascript access that did not have this interface before. In addition some API's previously had licensing restrictions on Javascript (due to the fact of the API only being supported in Motorola Webkit) but not neccesarily on ruby. In 4.0, the licensing restrictions are at the API class level not the language level. So for example the use of the Camera API is now free to use on Javascript or Ruby. [Read more about licensing](/guide/licensing).

## API Platform Support
It is the intention for all API's to work across the supported platforms. Previously in RhoMobile Suite 2.2, support for platforms where indicated using an [API compatibility matrix](/v/2.2/rhoelements/apicompatibility) at the API class level. In 2.2 there are less exceptions and the platforms that are supported will be indicated at the individual API property or method level.

## Replaced APIs
In the API reference documentation, new APIs that have replaced previously available API's will be highlighted in the menu as well as the description. 

For example [Camera.saveImageToDeviceGallery](/api/camera#msaveImageToDeviceGallery)

<span class="label label-info">Replaces:save_image_to_device_gallery</span>

## Deprecated APIs
In the API reference documentation, API's that have been marked as deprecated will be highlighted in the menu and description. Deprecated means that the API should work, but will no longer be enhanced or supported. The associated description should indicate alternatives.

For example [System.hasNetwork](/api/system#phasNetwork)

<span class="label label-important">Deprecated</span>


## API Migration Table
The following shows you a summary of these new API's and how any previous API relates to it.

<table class="table">
<thead>	
<tr>
<th>
Class
</th>
<th>
Description
</th>
<th>
<a href="/v/2.2/rhoelements/apicompatibility">Previous RhoMobile Suite 2.2 API</a>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="/api/Application">Application
</td>
<td>
Interface with application level methods and properties
</td>
<td>
Rename of <a href="/v/2.2/rhodesapi/rhoapplication-api/">RhoApplication</a> and will also contain the MSI specific <a href="/v/2.2/rhoelements/application/">Application</a>
</td>
</tr>
<tr>
<td>
<a href="/api/barcode">Barcode</a>
</td>
<td>
Scan bar codes using device's camera, laser or 2d imager
</td>
<td>
<a href="/v/2.2/rhodesapi/barcode-api/">Barcode</a> and <a href="/v/2.2/rhoelements/scanner/">Scanner</a> have been amalgamated.  All decoders have now been brought into the same API rather than having a separate API for each.
</td>
</tr>
<tr>
<td>
<a href="/api/battery">Battery</a>
</td>
<td>
Displays a battery signal icon in a native window without requiring users to draw their own icon
</td>
<td>
Previously existed in 2.2 <a href="/v/2.2/rhoelements/battery">Battery</a> 
</td>
</tr>

<tr>
<td>
<a href="/api/cardreader">CardReader
</td>
<td>
Interface for device's Mag Stripe Reader (MSR)
</td>
<td>
Previously existed in 2.2: <a href="/v/2.2/rhoelements/cardreader/">CardReader</a>
</td>
</tr>
<tr>
<td>
<a href="/api/Database">Database
</td>
<td>
Accessing RhoMobile's built in database
</td>
<td>
Same as <a href="/v/2.2/rhodesapi/database-api/">Database</a> class in 2.2
</td>
</tr>
<tr>
<td>
<a href="/api/keycapture">KeyCapture
</td>
<td>
Allows capturing hardware key events.
</td>
<td>
Previously existed in 2.2: <a href="/v/2.2/rhoelements/keycapture"> KeyCapture</a>
</td>
</tr>
<tr>
<td>
<a href="/api/keystate">KeyState
</td>
<td>
Indicator of jardware key state (Shift, Caps, Alt).
</td>
<td>
Previously existed in 2.2: <a href="/v/2.2/rhoelements/keystate"> KeyState</a>

</td>
</tr>
<tr>
<td>
<a href="/api/Log">Log
</td>
<td>
Interface for Rhomobile logging capabilities
</td>
<td>
Rename of <a href="/v/2.2/rhodesapi/rholog-api/">RhoLog</a> as well as combine log settings from RhoElement's Config.xml file
</td>
</tr>
<tr>
<td>
<a href="/api/mediaplayer">Mediaplayer
</td>
<td>
Playback audio and ringtones.
</td>
<td>
Added functionality to <a href="/v/2.2/rhodesapi/ringtonemanager-api">RingtoneManager</a> class
</td>
</tr>
<tr>
<td>
<a href="/api/NativeMenubar">NativeMenubar
</td>
<td>
Defining custom menus for your application.
</td>
<td>
Replaces <a href="/v/2.2/rhodesapi/menu-apis">@menu and @default_menu</a> api
</td>
</tr>
<tr>
<td>
<a href="/api/NativeTabbar">NativeTabbar
</td>
<td>
Provides native UI tabs with multiple webview instances.
</td>
<td>
Similar to previous <a href="/v/2.2/rhodesapi/nativetabbar-api">NativeTabbar</a> class
</td>
</tr>
<tr>
<td>
<a href="/api/NativeToolbar">NativeToolbar
</td>
<td>
Provides a native toolbar UI element.
</td>
<td>
Similar to previous <a href="/v/2.2/rhodesapi/nativetoolbar-api">NativeToolbar</a> class
</td>
</tr>
<tr>
<td>
<a href="/api/Navbar">Navbar
</td>
<td>
Native navigation for iOS applications.
</td>
<td>
Similar to previous <a href="/v/2.2/rhodesapi/navigationbar-iphone-api">Navbar</a> class
</td>
</tr>
<tr>
<td>
<a href="/api/Network">Network
</td>
<td>
See device's network status or make network connections
</td>
<td>
<a href="/v/2.2/rhodesapi/asynchttp-api/">AsyncHTTP</a> and <a href="/v/2.2/rhoelements/network/">Network</a> have been amalgamated
</td>
</tr>
<tr>
<td>
<a href="/api/Notification">Notification
</td>
<td>
Provides visual, audio and tactile alerts to the user.
</td>
<td>
2.2 APIs: <a href="/v/2.2/rhodesapi/alert-api/">Alert</a> and <a href="/v/2.2/rhoelements/notification/">Notification</a> have been combined
</td>
</tr>
<tr>
<td>
<a href="/api/Orm">Orm</a> & <a href="/api/OrmModel">OrmModel</a>
</td>
<td>
Api's for user defined Data models
</td>
<td>
Previously Rhomobile Data Models were accessible only through the<a href="/v/2.2/rhodesapi/rhom-api/"> Rhom API via Ruby</a> 
</td>
</tr>
<tr>
<td>
<a href="/api/push">Push
</td>
<td>
HTTP based push messaging 
</td>
<td>
RhoElemnents <a href="/v/2.2/rhoelements/push/">Push</a> API
</td>
</tr>
<tr>
<td>
<a href="/api/RhoConnectClient">RhoConnectClient
</td>
<td>
Synchronization interface with RhoConnect server applications
</td>
<td>
Rename of <a href="/v/2.2/rhodesapi/syncengine-api/">SyncEngine</a>
</td>
</tr>
<tr>
<td>
<a href="/api/File">RhoFile
</td>
<td>
Allows access to the device's file system.
</td>
<td>
Mostly the same as the previous <a href="/rhodesapi/file-api">File</a> class
</td>
</tr>
<tr>
<td>
<a href="/api/screenorientation">ScreenOrientation
</td>
<td>
Allows control or detection of screen orientation behavior.
</td>
<td>
Uses 2.2 <a href="/v/2.2/rhoelements/screenorientation">ScreenOrientation</a> class and replaces <a href="/v/2.2/rhodesapi/system-api#setscreenrotationnotification">set_screen_rotation_notification</a>
</td>
</tr>
<tr>
<td>
<a href="/api/sensor">Sensor
</td>
<td>
Allows direct access to device sensors like accelerometer, proximity, light, etc
</td>
<td>
Rename of  2.2 <a href="/v/2.2/rhoelements/RawSensors">RawSensors</a> class and adds additional functionality.
</td>
</tr>
<tr>
<td>
<a href="/api/signal">Signal
</td>
<td>
Graphical indicator of WiFi strength
</td>
<td>
Previous 2.2 API: <a href="/v/2.2/rhoelements/signal">Signal</a> 
</td>
</tr>


<tr>
<td>
<a href="/api/signature">Signature
</td>
<td>
Signature capture
</td>
<td>
<a href="/v/2.2/rhodesapi/signaturecapture-api/">Full screen signature</a>, <a href="/v/2.2/rhodesapi/signaturecapture-api/#inline-signature-api">inline signature</a> and <a href="/v/2.2/rhoelements/SignatureCapture/">Motorla specific signature capture</a> have been combined into a single API.
</td>
</tr>
<tr>
<td>
<a href="/api/system">System
</td>
<td>
Control and modify core aspects of the device such as the screen, OS and device capabilities.
</td>
<td>
Amalgamation of <a href="/v/2.2/rhodesapi/system-api/">System</a> and <a href="/v/2.2/rhoelements/generic/">Generic</a>
</td>
</tr>
<tr>
<td>
<a href="/api/webview">Webview
</td>
<td>
Interface with application's Webview container
</td>
<td>
Same as <a href="/v/2.2/rhodesapi/webview-api/">Webview</a> class in 2.2
</td>
</tr>
</tbody>
</table>

## Using Older API's
Some API classes that may have been available in RhoMobile Suite 2.2 and have not yet have been incorported in the new Common API class set for RhoMobile Suite 4.0. However these APIs are still available in the 2.2 format. The following API classes will soon be incorporated in furture versions of RhoMobile Suite 4.x in order to supply both a Common API format in both Javascript and Ruby.

* [Mapview](/v/2.2/rhodesapi/mapview-api)
* [Camera](/v/2.2/rhodesapi/camera-api/)
* [Contacts](/v/2.2/rhodesapi/rhocontact-api)
* Calendar
* System.Process
* [Registry](/v/2.2/rhoelements/registry)
* [AudioCapture](/v/2.2/rhoelements/AudioCapture)
* [Config](/v/2.2/rhodesapi/rhoconfig-api)
* [GeoLocation](/v/2.2/rhodesapi/geolocation-api)
* [Gesture](/v/2.2/rhoelements/Gesture)
* Printing
* [Systemtime](/v/2.2/rhoelements/systemTime)
* [Comm](/v/2.2/rhoelements/comm)
* [Addressbar](/v/2.2/rhoelements/addressbar)
* [Alarm](/v/2.2/rhoelements/alarm)
* [Bluetooth](/v/2.2/v/2.2/rhodesapi/bluetoothmanager-api)
* [NFC](/v/2.2/v/2.2/rhodesapi/NFCManager-api)
* [Timer](/v/2.2/v/2.2/rhodesapi/timer-api)
* [Backlight](/v/2.2/rhoelements/backlight)
* [Keylight](/v/2.2/rhoelements/Keylight)
* [Memory](/v/2.2/rhoelements/memory)
* [Reboot](/v/2.2/rhoelements/reboot)