<div class='tableofcontents'> </div><h1>API Overview</h1>

<p>The Enterprise Browser exposes certain methods to the developer which can be used to interact with write code for the Enterprise Browser. These methods are separated into APIs for each capability that can be manipulated and used with the Enterprise Browser app. Below We&rsquo;ll describe how to use these APIs in your Enterprise Browser app.</p>

<h2>Enabling the JavaScript API&rsquo;s</h2>

<p>Depending on whether your application is running from local html files on the device or if it is running from a remote web server will determine how to enable the Enterprise Browser APIs. Essentially, you need to ensure the proper JavaScript file is included in the proper location</p>

<h3>JavaScript API Files</h3>

<p>After installing Enterprise Browser, there will be a folder <code>JavaScriptFiles</code> found in the installation folder. In that folder there will be two folders:</p>

<ul>
<li>EnterpriseBrowser &ndash; JavaScript API files for Enterprise Browser

<ul>
<li>ebapi-modules.js &ndash; includes all <code>EB.module</code> APIs.</li>
<li>individual modules JS files &ndash; optionally can include just the modules you need. See the <a href="https://developer.motorolasolutions.com/docs/DOC-2581">optimization guide</a> for more information.</li>
</ul>
</li>
<li>BackwardsCompatibility &ndash; used for supporting PocketBrowser and RhoElements 2.x applications

<ul>
<li>elements.js &ndash; used for supporting RhoElements 2.x and PocketBrowser applications. See the <a href="https://developer.motorolasolutions.com/docs/DOC-2573">RhoElements &amp; PocketBrowser Migration guide</a></li>
<li>rhoapi-modules.js &ndash; used for supporting RhoMobile applications. See the <a href="https://developer.motorolasolutions.com/docs/DOC-2575">RhoMobile Migration guide</a></li>
</ul>
</li>
</ul>


<h3>Using JS APIs From Your Web App</h3>

<p>When you are running your web pages from a web server, the Enterprise Browser is essentially acting as a browser. In order to use the Enterprise Browser API&rsquo;s you will need to copy the ebapi-modules.js to your web server in a location where you will be able to access it and link it appropriately in your web serverâ€™s web pages. Typically you will copy this file to your web application&rsquo;s js folder where you may be including other JavaScript libraries that are being used.</p>

<h3>Using JS APIs From Local Pages</h3>

<p>To use the JS APIs on your device using local web pages, you&rsquo;ll need to copy the JS API files you&rsquo;ll be using, to your device in a location you&rsquo;ll be able to access them from your local app pages.</p>

<p>For example if you placed your html and JS files in <code>&lt;device-root&gt;\myApp</code> then in your html files you would link to the ebapi-modules.js using relative pathing as follows:</p>

<pre name="code" class="html">&lt;script src="ebapi-modules.js" type="text/javascript"&gt;&lt;/script&gt;
</pre>

<h2>Using Your Own Objects</h2>

<p>Some API classes support instance objects. This allows you to maintain your own objects and assign different properties to them. In the following example we want to save a reference to the front facing camera of the device so that we can manipulate the front facing camera properties separate from the rear-facing camera:</p>

<pre name="code" class="javascript">var laserScanner;
EB.Barcode.enumerate(function (e){
    if (e.scannerType == 'Laser'){
        laserScanner = e;
    }
};);
</pre>

<p>We can then reference instance methods on that object</p>

<pre name="code" class="javascript">var laserScannerProperties = {beamWidth:EB.Barcode.BEAM_NARROW, decodeVolume:5};

laserScanner.enable(laserScannerProperties, function(e){
        barcodeData = e.data;
    });
</pre>

<h2>Setting Properties</h2>

<p>There are a few different ways you can set properties.</p>

<h3>Using the Default Instance</h3>

<p>One way is to use the default instance of the API class. This will change the property of the object in a global sense until it is changed again (or the application is exited):</p>

<pre name="code" class="javascript">EB.Class.Property = value;
</pre>

<p>For example the following snippet will turn of the <code>illuminationMode</code> for the default Barcode instance.</p>

<pre name="code" class="javascript">EB.Barcode.illuminationMode='alwaysOff';
</pre>

<h3>Using Special Class Methods</h3>

<p>You can also use special class methods to set a property (as long as the class exposes such a method):</p>

<pre name="code" class="javascript">EB.Barcode.setProperty('illuminationMode', 'alwaysOff');
</pre>

<p>You can also use a special class method to set multiple properties in one line of code (as long as the class exposes such a method):</p>

<pre name="code" class="javascript">// An object of propertyName:value is passed into the setProperties method
EB.Barcode.setProperties({illuminationMode:'alwaysOff', code128:'enabled'});
</pre>

<h3>With Another Method</h3>

<p>Some methods support passing in a <code>propertyMap</code> as a parameter to a method. Like with the <code>setProperties</code> method, you would pass in an object of multiple propertyName:propertyValue</p>

<pre name="code" class="javascript">// Enable the default instance of Barcode with code128 enabled and illuminationMode off
// the first parameter of this method is a propertyMap
EB.Barcode.enable({illuminationMode:'alwaysOff', code128:'enabled'}, callbackHandler());
</pre>

<blockquote><p>Note: In the API reference, when a parameter is of type propertyMap, all possible values are not shown in the documentation. However you may use any non read-only property listed for that object class unless otherwise specified.</p></blockquote>

<h2>Getting Properties</h2>

<p>There are a few ways to get an object&rsquo;s property values:</p>

<h3>Reading Values Synchronously</h3>

<p>The following examples use a synchronous method that will be blocking. The following example uses the <code>getProperty</code> class method. This method may not be available on all APIs.</p>

<pre name="code" class="javascript">var illumMode = EB.Barcode.getProperty('illuminationMode');
</pre>

<p>You can use the <code>getProperties</code> method for a list of properties you wish to know about. An array of property names that you want to retrieve is passed into this method and a hash is returned containing the values of the properties.</p>

<pre name="code" class="javascript">// An object is returned by the getProperties method
var settingsObj = EB.Barcode.getProperties(['illuminationMode', 'code128']);

// The object properties will be the list of properties used
if (settingsObj.illuminationMode == 'alwaysOff')...
</pre>

<p>You can also use the <code>getAllProperties</code> method to get all properties of an object</p>

<pre name="code" class="javascript">var settingsObj = EB.Barcode.getAllProperties();
</pre>

<blockquote><p>Note: Some API&rsquo;s like Barcode have many properties and there may be an undesirable performance hit for reading all properties available. Use this method sparingly.</p></blockquote>

<h3>Reading Values Asynchronously</h3>

<p>There are a few ways you can read properties in non-blocking asynchronously way by specifying a callback. The following code snippet uses a self-describing autonomous function that will execute when the callback is executed:</p>

<pre name="code" class="javascript">Barcode.getAllProperties(function(params){
    alert(params.code128);
};);
</pre>

<p>The following code snippet also uses a self-describing anonymous function that will execute when the callback is executed. This time we are also passing in other parameters:</p>

<pre name="code" class="javascript">Barcode.getProperties(["autoEnter","code128"], function (params){
        alert(params.code128);
};);
</pre>

<blockquote><p>Note: For methods that support callbacks, the callback function will always be the last parameter of the method.</p></blockquote>

<p>The following code snippet uses a function name for the callback instead of an anonymous function</p>

<pre name="code" class="javascript">Barcode.getAllProperties(fnPropertyPerser(params));
</pre>

<h2>Handling Callbacks</h2>

<p>Some methods support a callback for returning information in an unblocking, asynchronous way. This is indicated in the documentation by a parameter named <code>callback</code></p>

<pre name="code" class="javascript">Barcode.take(HASH propertyMap, CallbackHandler callback)
</pre>

<p>The callback parameter will either be marked as <span class="label label-info">Optional</span> or <span class="label label-warning">Mandatory</span>. Be sure to check the type of object the callback will be returning as well as the list of available callback parameters for each method. Typically the callback will return an object with a pre-defined set of objects that can be accessed for information.</p>

<h3>Callback as anonymous function</h3>

<p>The following code snippet enables the hardware barcode button. Upon scanning a barcode the anonymous function will be executed:</p>

<pre name="code" class="javascript">// The documentation will list the callback type as well as callback parameters that are available
EB.Barcode.enable({},function(params){
    alert(params.data);
};);
</pre>

<h3>Callback as a JavaScript function</h3>

<p>The following code snippet enables the hardware barcode button. Upon scanning a barcode it then calls another JavaScript function <code>mycallbackhandler</code>:</p>

<pre name="code" class="javascript">EB.Barcode.enable({}, mycallbackHandler);

function mycallbackHandler(params){
// The documentation will list the callback type as well as callback parameters that are available
    alert(params.data);
}
</pre>
