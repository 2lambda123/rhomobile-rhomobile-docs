<div class='tableofcontents'> </div><h1>Barcode API Tutorial</h1>

<p>This tutorial covers the use of the Enterprise Browser Barcode API.</p>

<h2>Prerequisites</h2>

<p>The following are required to complete this tutorial:</p>

<ul>
<li>A background in HTML, CSS and JavaScript coding</li>
<li>Enterprise Browser installed on a development PC</li>
<li>A Zebra mobile device and USB cable</li>
<li>Enterprise Browser installed on the Zebra device</li>
</ul>


<h2>Coding for the Barcode API</h2>

<p>Enterprise Browser includes an API for scanning barcodes. The steps shown below are typical for code that uses this API. The following tutorial will walk through creating a working barcode example application using these steps.</p>

<p>!</p>

<p>The resulting application will look like this:</p>

<p>!</p>

<h2>Creating the App</h2>

<p>The following HTML template will be used as a starting point for this tutorial. It includes the following features:</p>

<ul>
<li>Home button that returns the user to an Enterprise Browser index page</li>
<li>Quit button that exits Enterprise Browser</li>
<li>Styling to size components in an appropriate manner for use on a device</li>
</ul>


<p>HTML Starter Template:</p>

<pre name="code" class="html">&lt;HTML&gt;
    &lt;HEAD&gt;
        &lt;style&gt;
        h1{font-size:2.5em;background-color:lightgray;margin:5px;padding:5px;}
        button{font-size:.5em;}
        input{font-size:1.3em;}
        #scanData{width:90%;margin:10px;}
        &lt;/style&gt;
    &lt;/HEAD&gt;
    &lt;BODY&gt;
        &lt;h1&gt;Barcode&lt;br/&gt;
        &lt;button onclick="window.location.href='./index.html'"&gt;Home&lt;/button&gt;
        &lt;button onclick="EB.Application.quit();"&gt;Quit&lt;/button&gt;
        &lt;/h1&gt;
        &lt;div id=content&gt;
        &lt;/div&gt;
    &lt;/BODY&gt;
&lt;SCRIPT&gt;
&lt;/SCRIPT&gt;
&lt;/HTML&gt;
</pre>

<h3>STEP 1: Create the application file</h3>

<ul>
<li><strong>Create a directory</strong> on your development machine for application files.</li>
<li><strong>Create a file named <code>barcode.html</code></strong> in your application directory and open it in a text editor. Make sure the app isn&rsquo;t adding an invisible &lsquo;.txt&rsquo; extension.</li>
<li><strong>Copy and paste the contents of the starter template above into the file</strong> and save it.</li>
</ul>


<h3>STEP 2: Add input field and control buttons.</h3>

<ul>
<li><strong>Add an input field to the <code>content div</code> section</strong> of the <code>barcode.html</code> file you just created:</li>
</ul>


<p>Sample HTML:</p>

<pre name="code" class="html">&lt;input id="scanData" type=text &gt;&lt;br/&gt;
</pre>

<p>Next we&rsquo;ll add two buttons: one to enable scanning and another to disable scanning. We&rsquo;ll append these two lines of code in a later step. For now:</p>

<ul>
<li><strong>Add two input buttons immediately after the input field</strong>:</li>
</ul>


<p>Sample HTML:</p>

<pre name="code" class="html">&lt;input type=button value="Enable Scan"&gt;
&lt;input type=button value="Disable Scan"&gt;        
</pre>

<h3>STEP 3: Include the API JavaScript file</h3>

<p>The Barcode API requires the Enterprise Browser API JavaScript file.</p>

<ul>
<li><strong>Copy the <code>ebapi-modules.js</code> file</strong> from <strong>C:\EnterpriseBrowser\JavaScriptFiles\EnterpriseBrowser</strong> to your application directory.</li>
</ul>


<p>To include this JavaScript file in your app,</p>

<ul>
<li><strong>Add the following to <code>barcode.html</code></strong> as the first line in the HEAD section:</li>
</ul>


<p>Sample HTML:</p>

<pre name="code" class="html">&lt;script type="text/javascript" charset="utf-8" src="./ebapi-modules.js"&gt;&lt;/script&gt;
</pre>

<h3>STEP 4: Configure scanner settings and enable scanner</h3>

<ul>
<li><strong>Add the method<code>fnScanEnable()</code> to the SCRIPT section</strong> that appears <strong>between the end BODY tag and the end HTML tag</strong>:</li>
</ul>


<p>Sample JavaScript:</p>

<pre name="code" class="JavaScript">function fnScanEnable() { 
    EB.Barcode.enable({allDecoders:true},fnBarcodeScanned); 
    document.getElementById('scanData').value 
 = "enabled: press HW trigger to capture.";   
}
</pre>

<p>In this method, two parameters are being passed to the <code>enable()</code> method. The first parameter is a hash including settings for the scanner. The second is a callback function that will be executed when data has been successfully captured. The second line of code displays a message notifying the user that the device is ready to scan.</p>

<h3>STEP 5: Trigger a scan</h3>

<p>In the demo app, <strong>scans will be triggered by pressing the device&rsquo;s hardware trigger button</strong>. If desired, <strong>it&rsquo;s also possible to trigger scans from an on-screen button by setting up the button to call the <code>EB.Barcode.start()</code> method</strong>.</p>

<p>For more information about using this method, please refer to the <a href="https://developer.motorolasolutions.com/docs/DOC-2510">Enterprise Browser Barcode API documentation</a>.</p>

<h3>STEP 6: Process the results</h3>

<ul>
<li><strong>Add the method<code>fnBarcodeScanned()</code> at the end of the SCRIPT section</strong> to process scan results:</li>
</ul>


<p>Sample JavaScript:</p>

<pre name="code" class="JavaScript">function fnBarcodeScanned(jsonObject) {
 console.log("Barcode Scanned:{" + JSON.stringify(jsonObject) + "}");
 document.getElementById('scanData').value = "barcode: " + jsonObject.data;
}
</pre>

<p><code>fnBarcodeScanned()</code> is a callback function we passed to <code>enable()</code>in the previous method. The JSON object passed to the function contains data captured during the scan. A <code>console.log()</code> statement is used to show the JSON object&rsquo;s contents for testing purposes. The last line takes the data attribute from the object and displays it in a text input field.</p>

<h3>STEP 7: Disable the scanner</h3>

<ul>
<li><strong>Add the method <code>fnScanDisable()</code> to the SCRIPT section</strong>:</li>
</ul>


<p>Sample JavaScript:</p>

<pre name="code" class="JavaScript">function fnScanDisable() { 
EB.Barcode.disable(); 
document.getElementById('scanData').value = "disabled: press 'enable' to scan.";  
}
</pre>

<p>The <code>EB.Barcode.disable()</code> method on the first line shuts down the scanner and prevents additional data captures. The second line displays a message for the user.</p>

<h3>STEP 8: Hook JavaScript method to buttons</h3>

<p>Now that the JavaScript functions have been created, we can hook them to the control buttons.</p>

<ul>
<li><strong>In <code>barcode.html</code>, append <code>onClick</code> handler code to the input button tags</strong> we created earlier (or simply replace the buttons created earlier with the function-appended button code below):</li>
</ul>


<p>Sample HTML:</p>

<pre name="code" class="HTML">&lt;input type=button value="Enable Scan" onClick="fnScanEnable();"&gt;
&lt;input type=button value="Disable Scan" onClick="fnScanDisable();"&gt;         
</pre>

<h3>STEP 9: Copy files to the device</h3>

<p>To test the application, you need to copy the application files to the device and set the StartPage setting in the Enterprise Browser <code>config.xml</code> file. Android- and Windows-based devices use different methods for transferring files. Please see the documentation for your device for specific instructions on copying files.</p>

<p>In general, here&rsquo;s what is required:</p>

<ol>
<li><strong>Create a directory on your device</strong> for the Barcode application. Make sure the directory is in an unrestricted location to avoid any permissions issues when Enterprise Browser tries to open the files. We&rsquo;ll place our sample app&rsquo;s files in the device&rsquo;s root directory and show you how to modify the <code>config.xml</code> file accordingly.</li>
<li><strong>Copy the <code>barcode.html</code> and any JavaScript API files</strong> you have included to the directory you created on the device.</li>
<li><strong>Copy the <code>config.xml</code> file to a suitable location on the development machine</strong> from the Enterprise Browser install directory on the device and open it in a text editor.</li>
<li><strong>Update the StartPage setting in <code>config.xml</code> to point to the location on the device</strong> where you placed <code>barcode.html</code> and save the changes.</li>
<li><strong>Copy the <code>config.xml</code> file back to its original location on the device</strong>.</li>
</ol>


<p>Sample <code>config.xml</code> showing path to Android app in root directory:</p>

<pre name="code" class="HTML">    &lt;General&gt;
        &lt;Name value="Barcode"/&gt;
        &lt;StartPage value="file:///barcode.html" name="Barcode"/&gt;
        &lt;UseRegularExpressions value="1"/&gt;
    &lt;/General&gt;
</pre>

<h2>STEP 10: Testing the app</h2>

<ul>
<li><strong>Tap the Enterprise Browser icon on the device</strong>. If the device is not yet licensed for Enterprise Browser, you will see the following screen:</li>
</ul>


<p>!</p>

<ul>
<li><strong>Click on the cancel button</strong> in the upper right hand corner of the screen to dismiss the message and open the Barcode app. If you turn the device sideways it should look like this:</li>
</ul>


<p>!</p>

<ul>
<li><strong>Click on the Enable Scan button</strong>.</li>
</ul>


<p>!</p>

<ul>
<li><strong>Press the device&rsquo;s hardware trigger button</strong>, point the device at a barcode and wait until you hear a beep signaling that the code has been captured. You should see the barcode number displayed in the input field.</li>
</ul>


<p>!</p>

<ul>
<li><strong>Click the Disable Scan button</strong>. Then try pressing the device&rsquo;s hardware trigger again. This time the device should not scan.</li>
</ul>


<p>!</p>

<h3>Conclusion</h3>

<p>This completes the Enterprise Browser Barcode API tutorial. For more information on the Barcode API, please refer to the <a href="https://developer.motorolasolutions.com/docs/DOC-2510">Enterprise Browser Barcode API documentation</a>.</p>
