<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 101 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="js/Markdown.Converter.js"></script>
	<script type="text/javascript" src="js/jquery.highlight.js"></script>
	<script type="text/javascript" src="js/fuse.js"></script>
	<script type="text/javascript" src="docs/docs.js"></script>
	
	<script type="text/javascript">
		$(document).ready(function() 
		{	
			//sidebar
			$('#sidebar').affix({
			  offset: {
				top: 0
			  }
			});	

			//Clear Search
			$("#searchBox").val("");
			
			//Bind Search
			$( "#searchBox" ).keyup(function() {
				search();
			});
			
			//Check for url change
			$(window).on('hashchange', function(e)
			{
				var hash = location.hash.replace("#","");
				loadDoc(hash);
			});
			
			//Load doc list
			var html = "";
			for(var i = 0; i<docs.length; i++)
			{
				html += '<li><a href="#' + i + '">' + docs[i].name + '</a></li>';
			}
			$("#docs").html(html);
								
			loadDoc(0);
		});
		

					
		function loadDoc(i)
		{
			var converter = new  Markdown.Converter();
			$("#markdownDoc").html(converter.makeHtml(docs[i].md));
			
			search();
		}
			
		function search()
		{
			$("#markdownDoc").unhighlight();
				
			var words = $("#searchBox").val().split(" "); 
			for(var i = 0; i<words.length; i++)
			{
				$("#markdownDoc").highlight(words[i]);
			}
				
			var options = {
				caseSensitive: false,
				includeScore: false,
				shouldSort: true,
				threshold: 0.5,
				location: 0,
				distance: 10000,
				maxPatternLength: 32,
				keys: ["md"]
			};
				
			var fuse = new Fuse(docs, options); // "list" is the item array
				
			var result = fuse.search($("#searchBox").val());
				
			var html = "";
			for(var i = 0; i<result.length; i++)
			{
				for(var j = 0; j<docs.length; j++)
				{
					if(docs[j].name == result[i].name)
					{
						html += '<p><a href="#' + j + '">' + result[i].name + '</a></p>';
						break;
					}
				}
			}
			$("#searchRes").html(html);
		}
	</script>
		
    <link href="bootstrap-3.1.1-dist/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="jasny-bootstrap/css/jasny-bootstrap.min.css" rel="stylesheet" media="screen">
	<link rel="stylesheet" type="text/css" href="css/demo2.css">
  </head>
<body>


    <div class="navmenu navmenu-default navmenu-fixed-left offcanvas">
      <a class="navmenu-brand" href="#">Dcouements</a>
      <ul class="nav navmenu-nav" id="docs">
        <!--<li><a href="#">Link</a></li>
        <li><a href="#">Link</a></li>
        <li><a href="#">Link</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
          <ul class="dropdown-menu navmenu-nav">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Nav header</li>
            <li><a href="#">Separated link</a></li>
            <li><a href="#">One more separated link</a></li>
          </ul>
        </li>-->
      </ul>
    </div>

    <div class="navbar navbar-default navbar-fixed-top">
      <button type="button" class="navbar-toggle" data-toggle="offcanvas" data-target=".navmenu" data-canvas="body">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <h4>Motorola EMDK documentation</h3>
    </div>
	
	<div class="table-layout">
		<div class="table-cell ">
			<div id="markdownDoc"></div>
		</div>
		<div class="table-cell fixed-width-280">
			<div id="sidebar">
				<h4>Table of Contents:</h4>
				
				<input type="text" id="searchBox" class="form-control fixed-width-270" placeholder="Search">
					<div id="searchRes"></div>
			</div>
		</div>
	</div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap-3.1.1-dist/js/bootstrap.min.js"></script>
    <script src="jasny-bootstrap/js/jasny-bootstrap.min.js"></script>
  </body>
</html>
